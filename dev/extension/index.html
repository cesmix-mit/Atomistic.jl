<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Implementing the Atomistic API · Atomistic.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://cesmix-mit.github.io/Atomistic.jl/extension/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><script src="../../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Atomistic.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Implementing the Atomistic API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Molecular-Dynamics-Simulators"><span>Molecular Dynamics Simulators</span></a></li><li class="toplevel"><a class="tocitem" href="#MolecularDynamicsResult_Specification"><span>Molecular Dynamics Results</span></a></li><li><a class="tocitem" href="#Simulation-Configuration-Functions"><span>Simulation Configuration Functions</span></a></li><li><a class="tocitem" href="#Time-Series-Measureable-Quantities"><span>Time-Series Measureable Quantities</span></a></li><li><a class="tocitem" href="#Simulation-Analysis"><span>Simulation Analysis</span></a></li></ul></li><li><a class="tocitem" href="../usage/">Using Atomistic-Compatible Packages</a></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Implementing the Atomistic API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Implementing the Atomistic API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cesmix-mit/Atomistic.jl/blob/master/docs/src/extension.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Implementing-the-Atomistic-API"><a class="docs-heading-anchor" href="#Implementing-the-Atomistic-API">Implementing the Atomistic API</a><a id="Implementing-the-Atomistic-API-1"></a><a class="docs-heading-anchor-permalink" href="#Implementing-the-Atomistic-API" title="Permalink"></a></h1><p>There are two main parts to the Atomistic API. An implementer must provide a concrete simulator type subtying the abstract type <code>MolecularDynamicsSimulator</code> and a concrete result type subtyping the abstract type <code>MolecularDynamicsResult</code>. A summary of the required functionality for each component follows.</p><h1 id="Molecular-Dynamics-Simulators"><a class="docs-heading-anchor" href="#Molecular-Dynamics-Simulators">Molecular Dynamics Simulators</a><a id="Molecular-Dynamics-Simulators-1"></a><a class="docs-heading-anchor-permalink" href="#Molecular-Dynamics-Simulators" title="Permalink"></a></h1><p>The only function that must be implemented for subtypes of <code>MolecularDynamicsSimulator</code> is a method of <code>simulate</code>. The signature for this function is the following</p><pre><code class="language-julia hljs">simulate(system::AbstractSystem, simulator::MolecularDynamicsSimulator, potential::ArbitraryPotential)::MolecularDynamicsResult</code></pre><p>The first parameter is an instance of an implementation of the <code>AbstractSystem</code> interface defined by <a href="https://github.com/JuliaMolSim/AtomsBase.jl">AtomsBase.jl</a>. It is important that the implementer only rely on this API rather than any particular implementation details because the user could provide any system implementation. The species, position, and velocity of each body as well as the boundary shape and conditions are stored in this data structure. An implementer should take special care to handle units appropriately when converting from this representation to the internal representation of the underlying simulator package.</p><p>The second parameter is the user-defined simulator. This could specify information such as the duration of the simulation, numerical details such as discretization parameters and integration methods, or domain specific options such as thermostats and barostats.</p><p>The third parameter is an instance of an implementation of the <code>ArbitraryPotential</code> interface defined by <a href="https://github.com/cesmix-mit/InteratomicPotentials.jl">InteratomicPotentials.jl</a>. The main function from this interface that is useful in simulation context is <code>force(s::AbstractSystem, p::ArbitraryPotential)::AbstractVector{StaticVector{3, &lt;:Real}}</code>.</p><p>The <code>simulate</code> method should return the corresponding implementation of the <code>MolecularDynamicsResult</code> interface as described below.</p><h1 id="MolecularDynamicsResult_Specification"><a class="docs-heading-anchor" href="#MolecularDynamicsResult_Specification">Molecular Dynamics Results</a><a id="MolecularDynamicsResult_Specification-1"></a><a class="docs-heading-anchor-permalink" href="#MolecularDynamicsResult_Specification" title="Permalink"></a></h1><p>Eight total functions must be implemented for subtypes of <code>MolecularDynamicsResult</code>, two of which have default implementations. The functions allow users to access simulation data from three categories: simulation configuration, time-series measurable quantities, and simulation analysis.</p><h2 id="Simulation-Configuration-Functions"><a class="docs-heading-anchor" href="#Simulation-Configuration-Functions">Simulation Configuration Functions</a><a id="Simulation-Configuration-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Configuration-Functions" title="Permalink"></a></h2><p>There are two simulation configuration function for <code>MolecularDynamicsResult</code>s:</p><pre><code class="language-julia hljs">get_time_range(result::MolecularDynamicsResult)::AbstractVector{&lt;:Unitful.Time}</code></pre><p>This function should return a unit-anotated vector-like object containing the time value for each step of the simulation which can be iterated for plotting, animation, or other analysis.</p><pre><code class="language-julia hljs">reference_temperature(result::MolecularDynamicsResult)::Union{Unitful.Temperature,Missing}</code></pre><p>This function should return a unit-anotated temperature that describes the thermostat used in the simulation. If there is no reference temperature for the particular simulation, the function should return missing, which is the default implementation.</p><h2 id="Time-Series-Measureable-Quantities"><a class="docs-heading-anchor" href="#Time-Series-Measureable-Quantities">Time-Series Measureable Quantities</a><a id="Time-Series-Measureable-Quantities-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Series-Measureable-Quantities" title="Permalink"></a></h2><p>There are 5 functions in the <code>MolecularDynamicsResult</code> API which return measured quantities from a particular timestep.</p><pre><code class="language-julia hljs">get_system(result::MolecularDynamicsResult, t::Integer = 0)::AbstractSystem</code></pre><p>This function should return an <a href="https://github.com/JuliaMolSim/AtomsBase.jl">AtomsBase.jl</a> <code>AbstractSystem</code> which describes the system at a particular timestep in the simulation. An implementer should take special care that any unit transformations in this stage are done appropriately.</p><pre><code class="language-julia hljs">temperature(result::MolecularDynamicsResult, t::Integer = 0)::Unitful.Temperature</code></pre><p>This function should return a unit-anotated temperature for the system at a particular timestep in the simulation.</p><pre><code class="language-julia hljs">kinetic_energy(result::MolecularDynamicsResult, t::Integer = 0)::Unitful.Energy</code></pre><p>This function should return a unit-anotated kinetic energy for the system at a particular timestep in the simulation.</p><pre><code class="language-julia hljs">potential_energy(result::MolecularDynamicsResult, t::Integer = 0)::Unitful.Energy</code></pre><p>This function should return a unit-anotated potential energy for the system at a particular timestep in the simulation. The relevant function from the <a href="https://github.com/cesmix-mit/InteratomicPotentials.jl">InteratomicPotentials.jl</a> interface is <code>potential_energy(a::AbstractSystem, p::ArbitraryPotential)::Real</code>.</p><pre><code class="language-julia hljs">total_energy(result::MolecularDynamicsResult, t::Integer = 0)::Unitful.Energy</code></pre><p>This function should return a unit-anotated total energy for the system at a particular timestep in the simulation. The default implementation simply sums the kinetic and potential energy functions, but an implemention might provide a custom implementation if there is a more direct means of calculation provided by the underlying simulator.</p><h2 id="Simulation-Analysis"><a class="docs-heading-anchor" href="#Simulation-Analysis">Simulation Analysis</a><a id="Simulation-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Analysis" title="Permalink"></a></h2><p>The only analysis function required by the Atmostic interface is the <a href="https://en.wikipedia.org/wiki/Radial_distribution_function">Radial Distribution Function</a>.</p><pre><code class="language-julia hljs">rdf(result::MolecularDynamicsResult, sample_fraction::Float64 = 1.0)::Tuple{AbstractVector{&lt;:Real},AbstractVector{&lt;:Real}}</code></pre><p>This function should calculate a tuple of vectors which represent the interparticle radial distances (in bohr) and the density of each distance respectively. The densities should be averaged across a trailing fraction of timesteps. Note that this detail is still the subject of further scrutiny and might be modified in a future release.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../usage/">Using Atomistic-Compatible Packages »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Monday 17 January 2022 20:15">Monday 17 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
